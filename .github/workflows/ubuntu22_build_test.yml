name: ubuntu22_build_test

# Far away from unit tests, but here we check if 
# 1) The code compiles (no unwanted dependencies have been added / mistakes have been made)
# 2) Nothing unexpected happens if we let the code run for a few seconds (air & ground) and terminate properly (cleanup)
# Sounds simple, but in the scope of this project, needed
⠀⠀⠀⠀
on:
  push:

jobs:
  build-submodules-independently-test:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout repository and submodules
        uses: actions/checkout@v3
        with:
          submodules: recursive
          
      - name: Install Dependencies
        run: |
          sudo apt update
          sudo ./install_build_dep.sh ubuntu-x86
          
      - name: Build submodules independently
        run: |
          cd OpenHD
          ./build_submodules_independently.sh
